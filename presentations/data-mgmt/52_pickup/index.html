<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>52 pickup</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="presentation.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="0"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="pickup">52 pickup</h1><h2 id="or-elements-of-data-mis-management"><em>or</em> Elements of data (mis-)management</h2><p>03.12.2015</p></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="a-game-of-cards">A game of cards</h1><p>Let's play 52 pickup!</p><p>(volunteers?)</p></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="id1">A game of cards</h1><img src="c1.staticflickr.com/7/6053/6213317854_2cf4576fec_b_d.jpg"></img><a href="https://creativecommons.org/licenses/by/2.0/">CC-BY-2.0</a> by <a href="https://www.flickr.com/photos/psycho-pics/6213317854/">wsilver</a><div class="notes"><p>When a researchers or technicians leave a research group they often leave behind them
a harddrive or network folder filled with mystical backups and files that are almost
undecipherable in their meaning. Certainly not easily re-organizable. Though done
without malice, it is as if they asked you: "Do you want my data?" and then threw
folders of excel printouts into the air and left someone to pick up the pieces.</p><p>If they even tell you where they left their data or left it at all.</p></div></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><h1 id="id2">A game of cards</h1><p>With a game of 52 pickup you might lose a few cards</p><p>... but at least you will know what you've lost.</p><div class="notes"><p>Examples are rooms where there are folders and servers full of data whose owner hasn't
been around for half a decade, no one knows what is within and whether they should be
kept.</p><p>What follows, seems partly self-evident. And the tone is a <strong>bit</strong> too preachy.</p></div></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><h1 id="data-management">Data management</h1><p><strong>It's not</strong></p><ul><li>dumping all your files on a harddrive when you leave</li><li>an end unto itself</li><li><dl><dt>irrelevant when you work on your own</dt><dd><ul><li>You'll collaborate some day.</li><li>You won't remember how and why you did something five years ago.</li></ul></dd></dl></li><li>metadata</li><li>a database</li><li>something software will do for you</li></ul><div class="notes"><p>The first person to profit from data management is your future self.</p><p>And five years is more like five weeks.</p></div></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><h1 id="id3">Data management</h1><p><strong>It is</strong></p><ul><li>planning (ahead!)</li><li>housekeeping</li><li><dl><dt>future proofing</dt><dd><ul><li>That you don't know how the data will be used in the future is not a reason to not
plan for future use.</li></ul></dd></dl></li><li>annoying and fruitful</li><li>hard to do <em>post hoc</em></li><li><dl><dt>similar to an institution</dt><dd><ul><li>collaboration</li><li>communication</li><li>a set of shared rules and goals</li></ul></dd></dl></li></ul><div class="notes"><p>Data management in a non personal context is about culture and discipline. It cannot be
easily outsourced or made the responsibility of a single person. And if no one expects
it of you, it is harder to keep doing it well as the extra effort is immediate and the
benefits (at least when you are learning it) far off.</p><p>Bad joke, inspired by @jlehtoma:</p><blockquote><p>Undergraduates haven't heard of it.
Graduate students don't know how to do it.
Post-docs think it is hard.
PIs have given up.</p></blockquote></div></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><h1 id="id4">Data management</h1><p>The examples in this presentation are about possible <a class="footnoteref" id="footnote-backref-id5" href="#footnote-id6">[1]</a> ways to manage data
<em>locally</em>.</p><ul><li>my laptop</li><li>work computer + laptop</li><li>local office server</li><li>small lab group</li></ul><div class="footnote" id="footnote-id6"><a class="footnotereturn" href="#footnote-backref-id5" title="return to content">#1: </a><p><em>i.e.</em> untested ideas!</p></div></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><h1 id="id7">Data management</h1><p>Out of scope of this presentation:</p><ul><li>data and open access</li><li>organizational repositories</li><li>depositing data along with article submissions</li><li>metadata management and definition</li><li>copyright and data rights<blockquote><p>"<em>You cannot take what you have not given, and you must give yourself.</em>"</p><blockquote><p>The Dispossessed, Ursula K. Le Guin</p></blockquote></blockquote></li></ul><p>But the tools and ideas presented later <em>might</em> be useful for those purposes as well.</p><div class="notes"><p>Data repositories and deposition along with manuscripts seem at the moment often to
result in the data from the final clean-up step before pressing run on your analysis
script being sent and saved.</p><p>They don't tell you how the data was cleaned up nor do they give much incentive to you
as depositor to manage your data well from the beginning.</p><p>Quote from the Dispossessed relates to a simple approach to whether data should be open
(barring ethical concerns, such as privacy, related to publishing the data) or not.</p></div></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><h1 id="metadata">Metadata</h1><ul><li>"<em>data about data</em>"</li></ul><p>Conflicts:</p><ul><li>human readable <em>vs.</em> machine readable</li><li>presentation <em>vs.</em> content (technical standards)</li></ul><div class="notes"><p>What is data about data? Data contextualization might be a better way to say it.</p><p>Technical standards don't make good metadata happen though they might lead
to would</p><p>Heavy weight or hard to use standards will make data management harder, by making it a
pain to do.</p></div></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="id8">Metadata</h1><p>What do we want?</p><p>Uses:</p><ul><li>validation</li><li>searching</li><li>understanding</li></ul><p>Good metadata is about documenting.</p><ul><li>What was done and how (data collection, processing etc.).</li><li>What was produced (data description).</li></ul><p><em>Human meaningful</em> instead of human readable:</p><ul><li>Stories about the data?</li></ul><p>But also an aid for data management and quality control (<em>"machine readable"</em>).</p></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="workflows">Workflows</h1><p>Think of</p><ul><li>macros</li><li>Make</li><li>ArcGIS model builder</li></ul></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="id9">Workflows</h1><ul><li>incremental changes</li><li>easy to document and understand</li><li>easier to share and collaborate on analyses</li></ul></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="id10">Workflows</h1><p>But difficult to integrate with interactive analysis?</p><ul><li>RStudio</li><li>IPython</li><li>SPSS, etc graphical statistical analysis programs</li></ul></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="id11">Workflows</h1><h2 id="short-vs-long-term-productivity">Short vs. long-term productivity</h2><p><em>Ad hoc</em> approaches:</p><ul><li>quick to get results</li></ul><p>Disciplined approach:</p><ul><li>slow to get started</li><li>easy to extend and repeat</li><li>annoying if you only want to quickly look at the problem <a class="footnoteref" id="footnote-backref-id12" href="#footnote-id13">[2]</a>.</li></ul><div class="footnote" id="footnote-id13"><a class="footnotereturn" href="#footnote-backref-id12" title="return to content">#2: </a><p>Quick <em>ad hoc</em> scripts that reveal interesting patterns turn soon into unreadable
spaghetti analyses</p></div></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="id14">Workflows</h1><ol><li>Specify outputs and inputs of the process.</li><li>Specify how outputs are produced from inputs (implement the process).</li><li><tt>make, wait, check, repeat</tt></li></ol></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="documented-workflows">Documented workflows</h1><p>Version process:</p><ul><li>steps in the analysis</li><li>keep a log of the changes (e.g. commit messages)</li></ul><p>Backup state:</p><ul><li>intermediate outputs</li><li>everything</li></ul><p>A possible guideline: <strong>Don't try to do backups and versioning at the same time.</strong></p><div class="notes"><p>Versioning and documenting the important bits should mean that you won't have to
trawl the depths of backup archives for that one file you lost and you just know you
saw it three weeks ago. Or was it months?!</p></div></div><div class="step step-level-1" step="16" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25600" data-y="0" data-z="0"><h1 id="files-versioning-vs-databases">Files &amp; versioning vs databases</h1><p>Files (with versioning):</p><ul><li>+ everyone understands files</li><li>+ easy to backup</li><li>- but versioning requires new skills and discipline</li><li>- data integrity ad-hoc</li></ul><p>Databases:</p><ul><li>+ data integrity in-built (optional)</li><li>- harder to get started with</li><li>- harder to backup</li><li>- difficult to version</li></ul></div><div class="step step-level-1" step="17" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27200" data-y="0" data-z="0"><h1 id="id15">Files &amp; versioning vs databases</h1><ul><li>A clean versioned file-based workflow can be turned into a database.</li><li>A messy database can produce files, but history and thus quality control is lost.</li></ul></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="28800" data-y="0" data-z="0"><h1 id="data-management-plans">Data management plans</h1><p>Data management plans are increasingly required by research institutions and
funding agencies.</p><ul><li><dl><dt>What should be in the plan?</dt><dd><ul><li>guidelines and checklists available</li></ul></dd></dl></li><li><dl><dt>Do the plans help with or enforce best practices?</dt><dd><ul><li>at least they force you to think about the issue before hand</li></ul></dd></dl></li></ul></div><div class="step step-level-1" step="19" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="30400" data-y="0" data-z="0"><h1 id="version-control">Version control</h1><p>What is it about?</p><blockquote><p>What is "version control", and why should you care? Version control is a
<strong>system that records changes</strong> to a file or set of files over time so that
you can recall specific versions later. For the examples in this book you
will use software source code as the files being version controlled,
though in reality you can do this with nearly any type of file on a computer.</p><p>If you are a graphic or web designer and want to keep every version of an
image or layout (which you would most certainly want to), a Version Control
System (VCS) is a very wise thing to use. It allows you to revert files back
to a previous state, revert the entire project back to a previous state,
<strong>compare changes over time</strong>, see <strong>who last modified something</strong> that might
be causing a problem, who introduced an issue and when, and more. Using a VCS
also generally means that if <strong>you screw things up or lose files</strong>, you can
<strong>easily recover</strong>. In addition, you get all this for very <strong>little
overhead</strong>.</p><blockquote><p><a href="https://git-scm.com/book">Pro Git</a> book by Scott Chacon and Ben Straub</p></blockquote></blockquote></div><div class="step step-level-1" step="20" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="32000" data-y="0" data-z="0"><h1 id="id16">Version control</h1><pre class="highlight code bash">git log aa9bb8f4</pre><hr /><pre class="highlight code diff">commit aa9bb8f42fffa3f43df3d996ee64e77a2026384f
Author: Torsti Schulz &lt;torsti.schulz@iki.fi&gt;
Date:   Thu Dec 3 07:43:17 2015 +0200

    Example extract of presentation's git log

commit 9b5a08ca51422bb83bf4feb33981c4706bb59745
Author: Torsti Schulz &lt;torsti.schulz@iki.fi&gt;
Date:   Thu Dec 3 07:32:57 2015 +0200

    Link to What is Version Control? -video

commit 941a74a0a701ac64f5cdaf3f9db5ab9929b80b16
Author: Torsti Schulz &lt;torsti.schulz@iki.fi&gt;
Date:   Thu Dec 3 07:19:43 2015 +0200

    Restyle

commit 9fe652636fc23811a0139400c1da6ce8580cfe2e
Author: Torsti Schulz &lt;torsti.schulz@iki.fi&gt;
Date:   Wed Dec 2 15:32:04 2015 +0200

    Visions and revisions</pre></div><div class="step step-level-1" step="21" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="33600" data-y="0" data-z="0"><h1 id="id17">Version control</h1><pre class="highlight code bash">git diff aa9bb8f4 9b5a08ca 52_pickup.rst</pre><hr /><pre class="highlight code diff"><span class="gh">diff --git a/52_pickup.rst b/52_pickup.rst
index a3fc74c..8f7e193 100644
</span><span class="gd">--- a/52_pickup.rst
</span><span class="gi">+++ b/52_pickup.rst
</span><span class="gu">@@ -339,10 +339,6 @@ Version control
</span>
 What is it about?

<span class="gd">-.. include:: git_log.txt
-   :end-line: 23
-   :code: diff
-
</span> ----

 Data projects and analysis projects</pre></div><div class="step step-level-1" step="22" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="35200" data-y="0" data-z="0"><h1 id="data-projects-and-analysis-projects">Data projects and analysis projects</h1><p>Separating data collection and analysis into separate projects.</p><p>Principles:</p><blockquote><ul><li>master data lives separate from analysis projects</li><li>no modification of raw data within analysis project</li><li>no undocumented data clean up or preparation in analysis project</li></ul></blockquote><p>Goals:</p><ul><li>keeping track of data processing steps</li><li><dl><dt>separating data cleanup from preparing data for analysis</dt><dd><ul><li>share work instead of duplicating it</li></ul></dd></dl></li><li>ease of repeatability and extendability as data are collected or corrected</li></ul><p>The other extreme:</p><blockquote><p><tt>data_file_final_v7_corrected_sept_no_duplicates_missing_imputed_who_am_I?.xls</tt></p></blockquote></div><div class="step step-level-1" step="23" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="36800" data-y="0" data-z="0"><h1 id="a-git-fairytale">A git fairytale</h1><h2 id="the-cast">The cast</h2><h3 id="and-their-git-repositories">and their git repositories</h3><ul><li><dl><dt>[<strong>Research group</strong>]</dt><dd><ul><li><em>plant_surveys.git</em>: Long term survey data of vascular plant abundances at monitoring sites.</li></ul></dd></dl></li><li><dl><dt>[<strong>PhD student</strong>]</dt><dd><ul><li><em>abundance_changes.git</em>: Analyzing changes of plants in certain taxonomic groups in
relation to changes in land use.</li></ul></dd></dl></li><li>[<strong>PI</strong>], <em>the written word of the</em>.</li></ul></div><div class="step step-level-1" step="24" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="38400" data-y="0" data-z="0"><h1 id="id18">A git fairytale</h1><h2 id="act-1">Act 1</h2><p>[Day at the office]</p><ul><li><dl><dt><strong>PhD</strong> &#x2014; Link survey data to analysis project:</dt><dd><ul><li><pre class="highlight code bash">git init
git submodule add <span class="s1">'ssh://despair.edu:/srv/git/plant-lab/data/plant_surveys.git'</span> <span class="se">\
</span>   data/plant_surveys
git commit -m <span class="s2">"Plant survey data as submodule from lab's shared data project."</span>

git add scripts/pretty_flower_p<span class="o">(</span>l<span class="o">)</span>ots.R
git commit -m <span class="s2">"Script for plotting abundance changes."</span></pre></li></ul></dd></dl></li></ul></div><div class="step step-level-1" step="25" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="40000" data-y="0" data-z="0"><h1 id="id19">A git fairytale</h1><h2 id="act-2">Act 2</h2><p>[Group email / Lab meeting / Technician interrupting coffee break]</p><ul><li><strong>Research group</strong> &#x2014; "Updated <em>Taraxacum</em> groups for 1991-1997 in plant_surveys.git"</li></ul></div><div class="step step-level-1" step="26" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="41600" data-y="0" data-z="0"><h1 id="id20">A git fairytale</h1><h2 id="act-3">Act 3</h2><p>[Around 10 pm at the PhD student's home]</p><ul><li>Email from <strong>PI</strong>:<blockquote><p>"<em>Have you looked at the corrected data? I will have time to look at the results
tomorrow morning.</em>"</p></blockquote></li><li><dl><dt><strong>PhD</strong> &#x2014; Update data in project:</dt><dd><ul><li><pre class="highlight code bash"><span class="nb">cd </span>data/plant_surveys
git pull
<span class="nb">cd</span> ../..
git commit -m <span class="s2">"Use corrected plant survey data for 1991-1997"</span></pre></li></ul></dd></dl></li><li><dl><dt><strong>PhD</strong> &#x2014; Rerun analysis with up-to-date survey data:</dt><dd><ul><li><pre class="highlight code bash">snakemake</pre></li></ul></dd></dl></li><li><strong>PhD</strong> &#x2014; (at 11:30 pm, cat sleeping on the keyboard) reply to <strong>PI</strong>:<blockquote><p>"<em>Sure, here are the resultssss.</em>"</p></blockquote></li></ul></div><div class="step step-level-1" step="27" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="43200" data-y="0" data-z="0"><h1 id="snakemake">Snakemake</h1><img src="images/dag.svg"></img></div><div class="step step-level-1" step="28" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="44800" data-y="0" data-z="0"><h1 id="id21">Snakemake</h1><pre class="highlight code python3"><span class="kn">from</span> <span class="nn">snakemake.remote.HTTP</span> <span class="k">import</span> <span class="n">RemoteProvider</span> <span class="k">as</span> <span class="n">HTTPRemoteProvider</span>

<span class="n">HTTP</span> <span class="o">=</span> <span class="n">HTTPRemoteProvider</span><span class="p">()</span>

<span class="n">rule</span> <span class="nb">all</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span> <span class="s">'52_pickup/index.html'</span>

<span class="n">rule</span> <span class="n">hovercraft</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="s">'52_pickup.rst'</span><span class="p">,</span>
        <span class="n">images</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">HTTP</span><span class="o">.</span><span class="n">remote</span> <span class="p">(</span><span class="s">'c1.staticflickr.com/7/6053/6213317854_2cf4576fec_b_d.jpg'</span><span class="p">,</span> <span class="n">keep_local</span> <span class="o">=</span> <span class="k">True</span><span class="p">),</span>
            <span class="s">'images/dag.svg'</span><span class="p">,</span>
            <span class="s">'images/dag_lidar.svg'</span><span class="p">,</span>
            <span class="s">'images/L3231D2.png'</span>
        <span class="p">],</span>
        <span class="n">css</span> <span class="o">=</span> <span class="s">'presentation.css'</span><span class="p">,</span>
        <span class="n">includes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s">'git_log.txt'</span><span class="p">,</span>
            <span class="s">'git_diff.txt'</span>
        <span class="p">]</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">rules</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">input</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Generate slides with hovercraft."</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''hovercraft {input.rst} $(dirname {output})'''</span>

<span class="n">rule</span> <span class="n">git_log</span><span class="p">:</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">temp</span> <span class="p">(</span><span class="s">'git_log.txt'</span><span class="p">)</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Extract git log."</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''git log aa9bb8f4 &gt; {output}'''</span>

<span class="n">rule</span> <span class="n">git_diff</span><span class="p">:</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">temp</span> <span class="p">(</span><span class="s">'git_diff.txt'</span><span class="p">)</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Extract git diff."</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''git diff aa9bb8f4 9b5a08ca 52_pickup.rst &gt; {output}'''</span>

<span class="n">rule</span> <span class="n">dag</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span> <span class="s">'Snakefile'</span>
    <span class="n">output</span><span class="p">:</span> <span class="s">'images/dag.svg'</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Generate directed acyclic graph of the Snakefile rules."</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''snakemake --rulegraph | dot -Tsvg &gt; {output}'''</span>

<span class="n">rule</span> <span class="n">dag_lidar</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span> <span class="s">'las-snake-fin/Snakefile'</span>
    <span class="n">output</span><span class="p">:</span> <span class="s">'images/dag_lidar.svg'</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Generate directed acyclic graph of LiDAR Snakefile rules."</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''snakemake --snakefile {input} --rulegraph | dot -Tsvg &gt; {output}'''</span>

<span class="n">rule</span> <span class="n">color_relief_png</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span> <span class="s">'las-snake-fin/output/merged.relief/2015/L323/1/L3231D2.tif'</span>
    <span class="n">output</span><span class="p">:</span> <span class="s">'images/L3231D2.png'</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">'Convert Tiff file to .png'</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''convert {input} -resize 600x600 -rotate 180 {output} &amp;&amp;
            pngquant --force --ext .png {output}'''</span>

<span class="n">rule</span> <span class="n">color_relief</span><span class="p">:</span>
    <span class="nb">input</span><span class="p">:</span> <span class="s">'las-snake-fin/Snakefile'</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">rules</span><span class="o">.</span><span class="n">color_relief_png</span><span class="o">.</span><span class="n">input</span>
    <span class="n">message</span><span class="p">:</span> <span class="s">"Generate merged color relief from LiDAR project's Snakefile"</span>
    <span class="n">shell</span><span class="p">:</span> <span class="s">'''snakemake --directory $(dirname {input}) --snakefile {input}'''</span></pre></div><div class="step step-level-1" step="29" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="46400" data-y="0" data-z="0"><h1 id="id22">Snakemake</h1><img src="images/dag_lidar.svg"></img></div><div class="step step-level-1" step="30" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="48000" data-y="0" data-z="0"><h1 id="id23">Snakemake</h1><img src="images/L3231D2.png"></img></div><div class="step step-level-1" step="31" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="49600" data-y="0" data-z="0"><h1 id="end">End</h1><div class="notes"><p>Slides available online.</p><p>Following slides contain links to software, articles and tutorials.</p></div></div><div class="step step-level-1" step="32" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="51200" data-y="0" data-z="0"><h1 id="needle-and-thread">Needle and thread</h1><p>Stiching it all together with pipes and glue.</p><dl><dt><a href="https://git-scm.com/">git</a></dt><dd><p>distributed version control</p></dd><dt><a href="https://bitbucket.org/snakemake/snakemake/wiki/Home">snakemake</a></dt><dd><p>data processing and analytics workflows</p></dd><dt><a href="http://www.gdal.org/">gdal</a></dt><dd><p>geographic data processing</p></dd><dt><a href="https://github.com/onyxfish/csvkit">csvkit</a></dt><dd><p>tools for working with csv data</p></dd><dt><a href="https://git-annex.branchable.com/">git-annex</a></dt><dd><p>large file synchronization using git</p></dd><dt><a href="https://github.com/eapen/uncommitted">uncommitted</a></dt><dd><p>monitoring local git project state</p></dd><dt><a href="https://github.com/borgbackup/borg">borg</a></dt><dd><p>deduplicating backup solution</p></dd></dl><div class="notes"><p>These are examples, not neccessarily recommendations!</p></div></div><div class="step step-level-1" step="33" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="52800" data-y="0" data-z="0"><h1 id="further-reading">Further reading</h1><ul><li>Hadley Wickham (2014). <a href="http://dx.doi.org/10.18637/jss.v059.i10">Tidy Data</a>. The Journal of Statistical Software, vol. 59.</li><li>Greg Wilson <em>et al.</em> (2014). <a href="http://dx.doi.org/10.1371/journal.pbio.1001745">Best Practices for Scientific Computing</a>. PLoS Biology, vol 12: e1001745.</li></ul></div><div class="step step-level-1" step="34" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="54400" data-y="0" data-z="0"><h1 id="further-links">Further links</h1><ul><li><a href="https://github.com/leipzig/SandwichesWithSnakemake">SandwichesWithSnakemake</a> &#x2014; Snakemake tutorial</li><li><a href="http://www.cs.upc.edu/~padro/Unixforpoets.pdf">Unix&#xF6DB; for Poets</a> &#x2014; A classic on working with text files on the command line</li><li><a href="http://software-carpentry.org/">Software Carpentry</a> &#x2014; "<em>Teaching lab skills for scientific computing</em>"</li><li>Git Basics Episode 1: <a href="http://git-scm.com/video/what-is-version-control">What is Version Control?</a></li><li><a href="http://avointiede.fi/www-kasikirja">Avoimen tieteen k&#xE4;sikirja</a> &#x2014; Guidelines for data management in the context
of open data (in Finnish)</li><li><a href="http://libraries.mit.edu/data-management/plan/write/">Write a data management plan</a> &#x2014; MIT Libraries guide for writing a data
management plan.</li></ul></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>